{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeBleManager","_interopRequireDefault","_BluetoothContext","_BluetoothReducer","_constants","_jsxRuntime","_this","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","BleManagerModule","NativeModules","BleManager","bleManagerEmitter","NativeEventEmitter","InternalCommandControlContext","createContext","undefined","displayName","BluetoothProvider","exports","_ref","_state$connectedDevic2","children","_useReducer","useReducer","bluetoothReducer","initialState","_useReducer2","_slicedToArray2","state","dispatch","currentCommandRef","useRef","handleIncomingData","useCallback","dataValue","isAwaitingResponse","current","_commandState$respons","commandState","responseChunks","push","_toConsumableArray2","responseBuffer","apply","promptIndex","indexOf","ELM327_PROMPT_BYTE","responseBytes","slice","processedChunks","processResponseChunks","timeoutId","clearTimeout","response","expectedReturnType","CommandReturnType","STRING","decodeResponse","BYTES","Uint8Array","from","CHUNKED","data","chunks","map","chunk","promise","resolve","type","error","_currentCommandRef$cu","console","reject","handleError","payload","flatBuffer","runningLength","length","chunkLength","promptPositionInChunk","splice","bytes","TextDecoder","decode","trim","warn","String","fromCharCode","Error","listenersRef","useEffect","info","start","showAlert","then","checkState","catch","listeners","addListener","args","isBtOn","peripheral","_peripheral$name","name","toUpperCase","likelyOBDKeywords","isLikelyOBD","some","keyword","includes","peripheralWithPrediction","assign","_state$connectedDevic","connectedDevice","id","value","forEach","listener","remove","commandControlValue","useMemo","jsx","BluetoothStateContext","Provider","BluetoothDispatchContext","useInternalCommandControl","context","React","useContext"],"sourceRoot":"../../../src","sources":["context/BluetoothProvider.tsx"],"mappings":"+YAEA,IAAAA,MAAA,CAAAC,uBAAA,CAAAC,OAAA,WAUA,IAAAC,YAAA,CAAAD,OAAA,iBAKA,IAAAE,sBAAA,CAAAC,sBAAA,CAAAH,OAAA,8BAQA,IAAAI,iBAAA,CAAAJ,OAAA,uBAIA,IAAAK,iBAAA,CAAAL,OAAA,uBAEA,IAAAM,UAAA,CAAAN,OAAA,iBAAqE,IAAAO,WAAA,CAAAP,OAAA,0BAAAQ,KAAA,MAAAC,YAAA,+GAAAC,yBAAAC,CAAA,wBAAAC,OAAA,iBAAAC,CAAA,KAAAD,OAAA,GAAAE,CAAA,KAAAF,OAAA,UAAAF,wBAAA,UAAAA,yBAAAC,CAAA,SAAAA,CAAA,CAAAG,CAAA,CAAAD,CAAA,IAAAF,CAAA,YAAAZ,wBAAAY,CAAA,CAAAE,CAAA,MAAAA,CAAA,EAAAF,CAAA,EAAAA,CAAA,CAAAI,UAAA,QAAAJ,CAAA,WAAAA,CAAA,mBAAAA,CAAA,qBAAAA,CAAA,QAAAK,OAAA,CAAAL,CAAA,MAAAG,CAAA,CAAAJ,wBAAA,CAAAG,CAAA,KAAAC,CAAA,EAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,SAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,MAAAQ,CAAA,EAAAC,SAAA,OAAAC,CAAA,CAAAC,MAAA,CAAAC,cAAA,EAAAD,MAAA,CAAAE,wBAAA,SAAAC,CAAA,IAAAd,CAAA,gBAAAc,CAAA,KAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,CAAAc,CAAA,OAAAG,CAAA,CAAAP,CAAA,CAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,CAAAc,CAAA,OAAAG,CAAA,GAAAA,CAAA,CAAAV,GAAA,EAAAU,CAAA,CAAAC,GAAA,EAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,CAAAM,CAAA,CAAAG,CAAA,EAAAT,CAAA,CAAAM,CAAA,EAAAd,CAAA,CAAAc,CAAA,UAAAN,CAAA,CAAAH,OAAA,CAAAL,CAAA,CAAAG,CAAA,EAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,CAAAQ,CAAA,EAAAA,CAAA,EAGrE,GAAM,CAAAW,gBAAgB,CAAGC,0BAAa,CAACC,UAAU,CACjD,GAAM,CAAAC,iBAAiB,CAAG,GAAI,CAAAC,+BAAkB,CAACJ,gBAAgB,CAAC,CAelE,GAAM,CAAAK,6BAA6B,CAAG,GAAAC,oBAAa,EAKjDC,SAAS,CAAC,CACZF,6BAA6B,CAACG,WAAW,CAAG,+BAA+B,CAgBpE,GAAM,CAAAC,iBAA6C,CAAAC,OAAA,CAAAD,iBAAA,CAAG,QAAhD,CAAAA,iBAA6CA,CAAAE,IAAA,CAAqB,KAAAC,sBAAA,IAAf,CAAAC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CACtE,IAAAC,WAAA,CAA0B,GAAAC,iBAAU,EAACC,kCAAgB,CAAEC,8BAAY,CAAC,CAAAC,YAAA,IAAAC,eAAA,CAAAjC,OAAA,EAAA4B,WAAA,IAA7DM,KAAK,CAAAF,YAAA,IAAEG,QAAQ,CAAAH,YAAA,IAGtB,GAAM,CAAAI,iBAAiB,CAAG,GAAAC,aAAM,EAA+B,IAAI,CAAC,CAEpE,GAAM,CAAAC,kBAAkB,CAAG,GAAAC,kBAAW,EACpC,SAACC,SAAmB,CAAK,CACvB,GAAIN,KAAK,CAACO,kBAAkB,EAAIL,iBAAiB,CAACM,OAAO,CAAE,CACzD,GAAI,KAAAC,qBAAA,CACF,GAAM,CAAAC,YAAY,CAAGR,iBAAiB,CAACM,OAAO,CAG9CE,YAAY,CAACC,cAAc,CAACC,IAAI,IAAAC,mBAAA,CAAA/C,OAAA,EAAKwC,SAAS,CAAC,CAAC,CAGhD,CAAAG,qBAAA,CAAAC,YAAY,CAACI,cAAc,EAACF,IAAI,CAAAG,KAAA,CAAAN,qBAAA,IAAAI,mBAAA,CAAA/C,OAAA,EAAIwC,SAAS,EAAC,CAE9C,GAAM,CAAAU,WAAW,CACfN,YAAY,CAACI,cAAc,CAACG,OAAO,CAACC,6BAAkB,CAAC,CACzD,GAAIF,WAAW,GAAK,CAAC,CAAC,CAAE,CAEtB,GAAM,CAAAG,aAAa,CAAGT,YAAY,CAACI,cAAc,CAACM,KAAK,CACrD,CAAC,CACDJ,WACF,CAAC,CAGD,GAAM,CAAAK,eAAe,CAAGC,qBAAqB,CAC3CZ,YAAY,CAACC,cAAc,CAC3BD,YAAY,CAACI,cAAc,CAC3BE,WACF,CAAC,CAGDN,YAAY,CAACI,cAAc,CAAG,EAAE,CAChCJ,YAAY,CAACC,cAAc,CAAG,EAAE,CAEhC,GAAID,YAAY,CAACa,SAAS,CAAE,CAC1BC,YAAY,CAACd,YAAY,CAACa,SAAS,CAAC,CACtC,CAGA,GAAI,CAAAE,QAAQ,CACZ,OAAQf,YAAY,CAACgB,kBAAkB,EACrC,IAAK,CAAAC,4BAAiB,CAACC,MAAM,CAC3BH,QAAQ,CAAGI,cAAc,CAACV,aAAa,CAAC,CACxC,MACF,IAAK,CAAAQ,4BAAiB,CAACG,KAAK,CAC1BL,QAAQ,CAAGM,UAAU,CAACC,IAAI,CAACb,aAAa,CAAC,CACzC,MACF,IAAK,CAAAQ,4BAAiB,CAACM,OAAO,CAC5BR,QAAQ,CAAG,CACTS,IAAI,CAAEH,UAAU,CAACC,IAAI,CAACb,aAAa,CAAC,CACpCgB,MAAM,CAAEd,eAAe,CAACe,GAAG,CAAC,SAAAC,KAAK,QAAI,CAAAN,UAAU,CAACC,IAAI,CAACK,KAAK,CAAC,GAC7D,CAAC,CACD,MACF,QACEZ,QAAQ,CAAGI,cAAc,CAACV,aAAa,CAAC,CAC5C,CAEAT,YAAY,CAAC4B,OAAO,CAACC,OAAO,CAACd,QAAQ,CAAC,CACtCvB,iBAAiB,CAACM,OAAO,CAAG,IAAI,CAChCP,QAAQ,CAAC,CAAEuC,IAAI,CAAE,iBAAkB,CAAC,CAAC,CACvC,CACF,CAAE,MAAOC,KAAK,CAAE,KAAAC,qBAAA,CACdC,OAAO,CAACF,KAAK,CACX,qDAAqD,CACrDA,KACF,CAAC,CACD,IAAAC,qBAAA,CAAIxC,iBAAiB,CAACM,OAAO,SAAzBkC,qBAAA,CAA2BJ,OAAO,CAAE,CACtCpC,iBAAiB,CAACM,OAAO,CAAC8B,OAAO,CAACM,MAAM,CAACC,WAAW,CAACJ,KAAK,CAAC,CAAC,CAC5DvC,iBAAiB,CAACM,OAAO,CAAG,IAAI,CAClC,CACAP,QAAQ,CAAC,CAAEuC,IAAI,CAAE,iBAAiB,CAAEM,OAAO,CAAED,WAAW,CAACJ,KAAK,CAAE,CAAC,CAAC,CACpE,CACF,CACF,CAAC,CACD,CAACzC,KAAK,CAACO,kBAAkB,CAC3B,CAAC,CAGD,GAAM,CAAAe,qBAAqB,CAAG,QAAxB,CAAAA,qBAAqBA,CACzBa,MAAkB,CAClBY,UAAoB,CACpB/B,WAAmB,CACJ,CACf,GAAM,CAAAK,eAAe,IAAAR,mBAAA,CAAA/C,OAAA,EAAOqE,MAAM,CAAC,CAGnC,GAAI,CAAAa,aAAa,CAAG,CAAC,CACrB,IAAK,GAAI,CAAAtE,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG2C,eAAe,CAAC4B,MAAM,CAAEvE,CAAC,EAAE,CAAE,CAC/C,GAAM,CAAAwE,WAAW,CAAG7B,eAAe,CAAC3C,CAAC,CAAC,CAACuE,MAAM,CAE7C,GAAID,aAAa,CAAGE,WAAW,CAAGlC,WAAW,CAAE,CAE7C,GAAM,CAAAmC,qBAAqB,CAAGnC,WAAW,CAAGgC,aAAa,CAGzD3B,eAAe,CAAC3C,CAAC,CAAC,CAAG2C,eAAe,CAAC3C,CAAC,CAAC,CAAC0C,KAAK,CAAC,CAAC,CAAE+B,qBAAqB,CAAC,CAGvE9B,eAAe,CAAC+B,MAAM,CAAC1E,CAAC,CAAG,CAAC,CAAC,CAC7B,MACF,CAEAsE,aAAa,EAAIE,WAAW,CAC9B,CAEA,MAAO,CAAA7B,eAAe,CACxB,CAAC,CAGD,GAAM,CAAAQ,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIwB,KAAe,CAAa,CAClD,GAAI,CACF,MAAO,IAAI,CAAAC,WAAW,CAAC,CAAC,CAACC,MAAM,CAACxB,UAAU,CAACC,IAAI,CAACqB,KAAK,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC,CAChE,CAAE,MAAO/F,CAAC,CAAE,CACVkF,OAAO,CAACc,IAAI,CACV,uEAAuE,CACvEhG,CACF,CAAC,CACD,MAAO,CAAAiG,MAAM,CAACC,YAAY,CAAA5C,KAAA,CAAnB2C,MAAM,IAAA7C,mBAAA,CAAA/C,OAAA,EAAiBuF,KAAK,EAAC,CAACG,IAAI,CAAC,CAAC,CAC7C,CACF,CAAC,CAGD,GAAM,CAAAX,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIJ,KAAc,CAAY,CAC7C,GAAIA,KAAK,WAAY,CAAAmB,KAAK,CAAE,CAC1B,MAAO,CAAAnB,KAAK,CACd,CACA,MAAO,IAAI,CAAAmB,KAAK,CAACF,MAAM,CAACjB,KAAK,CAAC,CAAC,CACjC,CAAC,CAGD,GAAM,CAAAoB,YAAY,CAAG,GAAA1D,aAAM,EAAwB,EAAE,CAAC,CAGtD,GAAA2D,gBAAS,EAAC,UAAM,CACdnB,OAAO,CAACoB,IAAI,CAAC,gDAAgD,CAAC,CAE9DjF,8BAAU,CAACkF,KAAK,CAAC,CAAEC,SAAS,CAAE,KAAM,CAAC,CAAC,CACnCC,IAAI,CAAC,UAAM,CACVvB,OAAO,CAACoB,IAAI,CAAC,sDAAsD,CAAC,CACpE9D,QAAQ,CAAC,CAAEuC,IAAI,CAAE,kBAAkB,CAAEM,OAAO,CAAE,KAAM,CAAC,CAAC,CAEtDhE,8BAAU,CAACqF,UAAU,CAAC,CAAC,CACzB,CAAC,CAAC,CACDC,KAAK,CAAC,SAAC3B,KAAY,CAAK,CAEvBE,OAAO,CAACF,KAAK,CAAC,iDAAiD,CAAEA,KAAK,CAAC,CACvExC,QAAQ,CAAC,CAAEuC,IAAI,CAAE,kBAAkB,CAAEM,OAAO,CAAE,KAAM,CAAC,CAAC,CACtD7C,QAAQ,CAAC,CACPuC,IAAI,CAAE,WAAW,CACjBM,OAAO,CAAE,GAAI,CAAAc,KAAK,CAAC,+BAA+BnB,KAAK,EAAE,CAC3D,CAAC,CAAC,CACJ,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAGN,GAAAqB,gBAAS,EAAC,UAAM,CACd,GAAM,CAAAO,SAAgC,CAAG,EAAE,CAE3C1B,OAAO,CAACoB,IAAI,CAAC,iDAAiD,CAAC,CAG/DM,SAAS,CAACzD,IAAI,CACZ7B,iBAAiB,CAACuF,WAAW,CAC3B,0BAA0B,CAC1B,SAACC,IAAgC,CAAK,CACpC5B,OAAO,CAACoB,IAAI,CACV,iDAAiDQ,IAAI,CAACvE,KAAK,EAC7D,CAAC,CACD,GAAM,CAAAwE,MAAM,CAAGD,IAAI,CAACvE,KAAK,GAAK,IAAI,CAClCC,QAAQ,CAAC,CAAEuC,IAAI,CAAE,qBAAqB,CAAEM,OAAO,CAAE0B,MAAO,CAAC,CAAC,CAC1D,GAAI,CAACA,MAAM,CAAE,CACX7B,OAAO,CAACc,IAAI,CAAC,uCAAuC,CAAC,CACvD,CACF,CACF,CACF,CAAC,CAGDY,SAAS,CAACzD,IAAI,CACZ7B,iBAAiB,CAACuF,WAAW,CAC3B,8BAA8B,CAC9B,SAACG,UAAsB,CAAK,KAAAC,gBAAA,CAE1B,GAAM,CAAAC,IAAI,CAAG,EAAAD,gBAAA,CAAAD,UAAU,CAACE,IAAI,eAAfD,gBAAA,CAAiBE,WAAW,CAAC,CAAC,GAAI,EAAE,CACjD,GAAM,CAAAC,iBAAiB,CAAG,CACxB,KAAK,CACL,KAAK,CACL,OAAO,CACP,MAAM,CACN,MAAM,CACN,SAAS,CACV,CACD,GAAM,CAAAC,WAAW,CAAGD,iBAAiB,CAACE,IAAI,CAAC,SAAAC,OAAO,QAChD,CAAAL,IAAI,CAACM,QAAQ,CAACD,OAAO,CAAC,EACxB,CAAC,CAED,GAAM,CAAAE,wBAAkD,CAAA9G,MAAA,CAAA+G,MAAA,IACnDV,UAAU,EACbK,WAAW,CAAEA,WAAW,EACzB,CAED7E,QAAQ,CAAC,CAAEuC,IAAI,CAAE,cAAc,CAAEM,OAAO,CAAEoC,wBAAyB,CAAC,CAAC,CACvE,CACF,CACF,CAAC,CAGDb,SAAS,CAACzD,IAAI,CACZ7B,iBAAiB,CAACuF,WAAW,CAAC,oBAAoB,CAAE,UAAM,CACxD3B,OAAO,CAACoB,IAAI,CAAC,kDAAkD,CAAC,CAChE9D,QAAQ,CAAC,CAAEuC,IAAI,CAAE,WAAY,CAAC,CAAC,CACjC,CAAC,CACH,CAAC,CAGD6B,SAAS,CAACzD,IAAI,CACZ7B,iBAAiB,CAACuF,WAAW,CAC3B,gCAAgC,CAChC,SAACpC,IAA4B,CAAK,KAAAkD,qBAAA,CAChCzC,OAAO,CAACc,IAAI,CACV,uDAAuDvB,IAAI,CAACuC,UAAU,EACxE,CAAC,CACD,GAAI,EAAAW,qBAAA,CAAApF,KAAK,CAACqF,eAAe,eAArBD,qBAAA,CAAuBE,EAAE,IAAKpD,IAAI,CAACuC,UAAU,CAAE,CACjD,GAAIvE,iBAAiB,CAACM,OAAO,CAAE,CAC7BmC,OAAO,CAACF,KAAK,CACX,0DACF,CAAC,CACDvC,iBAAiB,CAACM,OAAO,CAAC8B,OAAO,CAACM,MAAM,CACtC,GAAI,CAAAgB,KAAK,CAAC,qCAAqC,CACjD,CAAC,CACD,GAAI1D,iBAAiB,CAACM,OAAO,CAACe,SAAS,CAAE,CACvCC,YAAY,CAACtB,iBAAiB,CAACM,OAAO,CAACe,SAAS,CAAC,CACnD,CACArB,iBAAiB,CAACM,OAAO,CAACM,cAAc,CAAG,EAAE,CAC7CZ,iBAAiB,CAACM,OAAO,CAAG,IAAI,CAClC,CACAP,QAAQ,CAAC,CAAEuC,IAAI,CAAE,qBAAsB,CAAC,CAAC,CAC3C,CACF,CACF,CACF,CAAC,CAGD6B,SAAS,CAACzD,IAAI,CACZ7B,iBAAiB,CAACuF,WAAW,CAC3B,2CAA2C,CAC3C,SAACpC,IAAoD,CAAK,CACxD9B,kBAAkB,CAAC8B,IAAI,CAACqD,KAAK,CAAC,CAChC,CACF,CACF,CAAC,CAED1B,YAAY,CAACrD,OAAO,CAAG6D,SAAS,CAGhC,MAAO,WAAM,CACX1B,OAAO,CAACoB,IAAI,CAAC,+CAA+C,CAAC,CAC7DF,YAAY,CAACrD,OAAO,CAACgF,OAAO,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,MAAM,CAAC,CAAC,GAAC,CAC3D7B,YAAY,CAACrD,OAAO,CAAG,EAAE,CAC3B,CAAC,CAGH,CAAC,CAAE,EAAAhB,sBAAA,CAACQ,KAAK,CAACqF,eAAe,eAArB7F,sBAAA,CAAuB8F,EAAE,CAAElF,kBAAkB,CAAC,CAAC,CAGnD,GAAM,CAAAuF,mBAAmB,CAAG,GAAAC,cAAO,EACjC,iBAAO,CACL1F,iBAAiB,CAAjBA,iBACF,CAAC,EAAC,CACF,EACF,CAAC,CAED,MACE,GAAA7C,WAAA,CAAAwI,GAAA,EAAC3I,iBAAA,CAAA4I,qBAAqB,CAACC,QAAQ,EAACR,KAAK,CAAEvF,KAAM,CAAAP,QAAA,CAC3C,GAAApC,WAAA,CAAAwI,GAAA,EAAC3I,iBAAA,CAAA8I,wBAAwB,CAACD,QAAQ,EAACR,KAAK,CAAEtF,QAAS,CAAAR,QAAA,CACjD,GAAApC,WAAA,CAAAwI,GAAA,EAAC5G,6BAA6B,CAAC8G,QAAQ,EAACR,KAAK,CAAEI,mBAAoB,CAAAlG,QAAA,CAChEA,QAAQ,CAC6B,CAAC,CACR,CAAC,CACN,CAAC,CAErC,CAAC,CAWM,GAAM,CAAAwG,yBAAyB,CAAA3G,OAAA,CAAA2G,yBAAA,CAAG,QAA5B,CAAAA,yBAAyBA,CAAA,CAAS,CAC7C,GAAM,CAAAC,OAAO,CAAGC,cAAK,CAACC,UAAU,CAACnH,6BAA6B,CAAC,CAC/D,GAAIiH,OAAO,GAAK/G,SAAS,CAAE,CACzB,KAAM,IAAI,CAAAyE,KAAK,CACb,mEACF,CAAC,CACH,CACA,MAAO,CAAAsC,OAAO,CAChB,CAAC","ignoreList":[]}