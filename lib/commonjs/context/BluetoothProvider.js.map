{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeBleManager","_interopRequireDefault","_BluetoothContext","_BluetoothReducer","_constants","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","BleManagerModule","NativeModules","BleManager","bleManagerEmitter","NativeEventEmitter","InternalCommandControlContext","createContext","undefined","displayName","BluetoothProvider","children","_state$connectedDevic2","state","dispatch","useReducer","bluetoothReducer","initialState","currentCommandRef","useRef","handleIncomingData","useCallback","dataValue","isAwaitingResponse","current","commandState","responseChunks","push","responseBuffer","promptIndex","indexOf","ELM327_PROMPT_BYTE","responseBytes","slice","processedChunks","processResponseChunks","timeoutId","clearTimeout","response","expectedReturnType","CommandReturnType","STRING","decodeResponse","BYTES","Uint8Array","from","CHUNKED","data","chunks","map","chunk","promise","resolve","type","error","_currentCommandRef$cu","console","reject","handleError","payload","flatBuffer","runningLength","length","chunkLength","promptPositionInChunk","splice","bytes","TextDecoder","decode","trim","warn","String","fromCharCode","Error","listenersRef","useEffect","info","start","showAlert","then","checkState","catch","listeners","addListener","args","isBtOn","peripheral","_peripheral$name","name","toUpperCase","likelyOBDKeywords","isLikelyOBD","some","keyword","includes","peripheralWithPrediction","_state$connectedDevic","connectedDevice","id","value","forEach","listener","remove","commandControlValue","useMemo","createElement","BluetoothStateContext","Provider","BluetoothDispatchContext","exports","useInternalCommandControl","context","React","useContext"],"sourceRoot":"../../../src","sources":["context/BluetoothProvider.tsx"],"mappings":"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","ignoreList":[]}