{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeBleManager","_interopRequireDefault","_BluetoothContext","_BluetoothReducer","_constants","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","BleManagerModule","NativeModules","BleManager","bleManagerEmitter","NativeEventEmitter","InternalCommandControlContext","createContext","undefined","displayName","BluetoothProvider","children","state","dispatch","useReducer","bluetoothReducer","initialState","currentCommandRef","useRef","handleIncomingData","useCallback","dataValue","isAwaitingResponse","current","commandState","responseBuffer","push","promptIndex","indexOf","ELM327_PROMPT_BYTE","responseBytes","slice","timeoutId","clearTimeout","response","expectedReturnType","Uint8Array","from","decodeResponse","promise","resolve","type","error","console","reject","payload","bytes","TextDecoder","decode","trim","warn","String","fromCharCode","listenersRef","useEffect","info","start","showAlert","then","checkState","catch","Error","listeners","addListener","args","isBtOn","peripheral","name","toUpperCase","likelyOBDKeywords","isLikelyOBD","some","keyword","includes","peripheralWithPrediction","data","connectedDevice","id","value","forEach","listener","remove","commandControlValue","useMemo","createElement","BluetoothStateContext","Provider","BluetoothDispatchContext","exports","useInternalCommandControl","context","React","useContext","_default"],"sourceRoot":"../../../src","sources":["context/BluetoothProvider.tsx"],"mappings":"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","ignoreList":[]}
