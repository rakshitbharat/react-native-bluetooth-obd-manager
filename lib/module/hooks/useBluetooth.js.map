{"version":3,"names":["useCallback","useRef","useEffect","Platform","BleManager","Permissions","useBluetoothDispatch","useBluetoothState","useInternalCommandControl","KNOWN_ELM327_TARGETS","DEFAULT_COMMAND_TIMEOUT","ELM327_COMMAND_TERMINATOR","ELM327_PROMPT_BYTE","CommandReturnType","createDeferredPromise","resolveFn","rejectFn","promise","Promise","resolve","reject","handleError","error","Error","errorCode","message","String","handleStateError","useBluetooth","state","dispatch","currentCommandRef","scanPromiseRef","connectPromiseRef","disconnectPromiseRef","checkPermissions","console","info","requiredPermissions","OS","Version","PERMISSIONS","ANDROID","BLUETOOTH_SCAN","BLUETOOTH_CONNECT","ACCESS_FINE_LOCATION","IOS","LOCATION_WHEN_IN_USE","length","type","payload","statuses","checkMultiple","allGranted","every","permission","RESULTS","GRANTED","formattedError","requestBluetoothPermissions","permissionsToRequest","iosBlePermissionNeeded","finalStatuses","requestMultiple","iosBluetoothGranted","bleStatus","request","BLUETOOTH","UNAVAILABLE","finalGranted","warn","blocked","Object","values","some","status","BLOCKED","promptEnableBluetooth","isBluetoothOn","enableBluetooth","scanDevices","scanDurationMs","_scanPromiseRef$curre2","hasPermissions","isScanning","_scanPromiseRef$curre","current","scanSeconds","Math","max","round","timeoutId","setTimeout","stopScan","stopError","scan","clearTimeout","connectToDevice","deviceId","isConnecting","connectedDevice","id","_peripheralInfo$servi","connect","peripheralInfo","retrieveServices","services","map","s","uuid","foundConfig","target","_peripheralInfo$servi2","serviceUUIDUpper","serviceUUID","toUpperCase","writeCharUUIDUpper","writeCharacteristicUUID","notifyCharUUIDUpper","notifyCharacteristicUUID","foundService","find","_peripheralInfo$chara","name","characteristics","filter","c","service","writeCharacteristic","characteristic","notifyCharacteristic","writeType","properties","Write","startNotification","_connectPromiseRef$cu","device","config","_connectPromiseRef$cu2","disconnect","disconnectError","isDisconnecting","_disconnectPromiseRef","activeDeviceConfig","_disconnectPromiseRef2","stopNotification","_disconnectPromiseRef3","executeCommand","command","returnType","options","isAwaitingResponse","commandTimeoutDuration","timeout","deferredPromise","responseBuffer","responseChunks","expectedReturnType","_currentCommandRef$cu","commandString","commandBytes","Array","from","TextEncoder","encode","write","writeWithoutResponse","response","_currentCommandRef$cu2","_currentCommandRef$cu3","_currentCommandRef$cu4","sendCommand","result","STRING","sendCommandRaw","BYTES","Uint8Array","sendCommandRawChunked","CHUNKED","setStreaming","shouldStream","isStreaming","includes","_currentCommandRef$cu5","promptIndex","indexOf","_currentCommandRef$cu6","responseBytes","slice","responseString","TextDecoder","decode","trim","e","fromCharCode"],"sourceRoot":"../../../src","sources":["hooks/useBluetooth.ts"],"mappings":"AAAA;;AAEA,SAASA,WAAW,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACtD,SAASC,QAAQ,QAAQ,cAAc;AACvC,OAAOC,UAAU,MAA2B,0BAA0B;AACtE,OAAO,KAAKC,WAAW,MAAM,0BAA0B;AAGvD;AACA;AACA;;AAEA,SACEC,oBAAoB,EACpBC,iBAAiB,QACZ,6BAA6B;AACpC,SAASC,yBAAyB,QAAQ,8BAA8B;AACxE,SACEC,oBAAoB,EACpBC,uBAAuB,EACvBC,yBAAyB,EACzBC,kBAAkB,EAClBC,iBAAiB,QACZ,cAAc;AAOrB;AACA;AACA,SAASC,qBAAqBA,CAAA,EAA0B;EACtD,IAAIC,SAA+C;EACnD,IAAIC,QAAkC;EAEtC,MAAMC,OAAO,GAAG,IAAIC,OAAO,CAAI,CAACC,OAAO,EAAEC,MAAM,KAAK;IAClDL,SAAS,GAAGI,OAAO,CAAC,CAAC;IACrBH,QAAQ,GAAGI,MAAM,CAAC,CAAC;EACrB,CAAC,CAAC;EAEF,OAAO;IAAEH,OAAO;IAAEE,OAAO,EAAEJ,SAAS;IAAEK,MAAM,EAAEJ;EAAS,CAAC;AAC1D;;AAEA;AACA,MAAMK,WAAW,GAAIC,KAAc,IAAY;EAC7C,IAAIA,KAAK,YAAYC,KAAK,EAAE;IAC1B,OAAOD,KAAK;EACd;EACA;EACA,IACE,OAAOA,KAAK,KAAK,QAAQ,IACzBA,KAAK,KAAK,IAAI,IACd,WAAW,IAAIA,KAAK,IACpB,SAAS,IAAIA,KAAK,EAClB;IACA,OAAO,IAAIC,KAAK,CACd,cAAeD,KAAK,CAAcE,SAAS,MAAOF,KAAK,CAAcG,OAAO,EAC9E,CAAC;EACH;EACA,OAAO,IAAIF,KAAK,CAACG,MAAM,CAACJ,KAAK,CAAC,CAAC;AACjC,CAAC;;AAED;AACA,MAAMK,gBAAgB,GAAIL,KAA8B,IAAY;EAClE,IAAI,CAACA,KAAK,EAAE;IACV,OAAO,IAAIC,KAAK,CAAC,2BAA2B,CAAC;EAC/C;EACA,OAAOF,WAAW,CAACC,KAAK,CAAC;AAC3B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMM,YAAY,GAAGA,CAAA,KAA0B;EACpD,MAAMC,KAAK,GAAGtB,iBAAiB,CAAC,CAAC;EACjC,MAAMuB,QAAQ,GAAGxB,oBAAoB,CAAC,CAAC;EACvC,MAAM;IAAEyB;EAAkB,CAAC,GAAGvB,yBAAyB,CAAC,CAAC;;EAEzD;EACA,MAAMwB,cAAc,GAAG/B,MAAM,CAA+B,IAAI,CAAC;EACjE,MAAMgC,iBAAiB,GAAGhC,MAAM,CAAqC,IAAI,CAAC;EAC1E,MAAMiC,oBAAoB,GAAGjC,MAAM,CAA+B,IAAI,CAAC;;EAEvE;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAMkC,gBAAgB,GAAGnC,WAAW,CAAC,YAA8B;IACjEoC,OAAO,CAACC,IAAI,CAAC,wCAAwC,CAAC;IACtD,IAAIC,mBAA6C,GAAG,EAAE;IACtD,IAAInC,QAAQ,CAACoC,EAAE,KAAK,SAAS,EAAE;MAC7B,IAAIpC,QAAQ,CAACqC,OAAO,IAAI,EAAE,EAAE;QAC1B;QACAF,mBAAmB,GAAG,CACpBjC,WAAW,CAACoC,WAAW,CAACC,OAAO,CAACC,cAAc,EAC9CtC,WAAW,CAACoC,WAAW,CAACC,OAAO,CAACE,iBAAiB,EACjDvC,WAAW,CAACoC,WAAW,CAACC,OAAO,CAACG,oBAAoB,CAAE;QAAA,CACvD;MACH,CAAC,MAAM;QACL;QACAP,mBAAmB,GAAG,CACpBjC,WAAW,CAACoC,WAAW,CAACC,OAAO,CAACG,oBAAoB,CAAE;QAAA,CACvD;MACH;IACF,CAAC,MAAM,IAAI1C,QAAQ,CAACoC,EAAE,KAAK,KAAK,EAAE;MAChC;MACA;MACA;MACAD,mBAAmB,GAAG,CAACjC,WAAW,CAACoC,WAAW,CAACK,GAAG,CAACC,oBAAoB,CAAC;IAC1E;IAEA,IAAIT,mBAAmB,CAACU,MAAM,KAAK,CAAC,EAAE;MACpCZ,OAAO,CAACC,IAAI,CACV,sFACF,CAAC;MACDP,QAAQ,CAAC;QAAEmB,IAAI,EAAE,wBAAwB;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC,CAAC,CAAC;MAC7D,OAAO,IAAI;IACb;IAEA,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAM9C,WAAW,CAAC+C,aAAa,CAACd,mBAAmB,CAAC;MACrE,MAAMe,UAAU,GAAGf,mBAAmB,CAACgB,KAAK,CAC1CC,UAAU,IAAIJ,QAAQ,CAACI,UAAU,CAAC,KAAKlD,WAAW,CAACmD,OAAO,CAACC,OAC7D,CAAC;MACDrB,OAAO,CAACC,IAAI,CACV,2CAA2CgB,UAAU,EAAE,EACvDF,QACF,CAAC;MACDrB,QAAQ,CAAC;QAAEmB,IAAI,EAAE,wBAAwB;QAAEC,OAAO,EAAEG;MAAW,CAAC,CAAC;MACjE,OAAOA,UAAU;IACnB,CAAC,CAAC,OAAO/B,KAAK,EAAE;MACd,MAAMoC,cAAc,GAAGrC,WAAW,CAACC,KAAK,CAAC;MACzCc,OAAO,CAACd,KAAK,CAAC,yCAAyC,EAAEoC,cAAc,CAAC;MACxE5B,QAAQ,CAAC;QAAEmB,IAAI,EAAE,wBAAwB;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;MAC5DpB,QAAQ,CAAC;QAAEmB,IAAI,EAAE,WAAW;QAAEC,OAAO,EAAEQ;MAAe,CAAC,CAAC;MACxD,OAAO,KAAK;IACd;EACF,CAAC,EAAE,CAAC5B,QAAQ,CAAC,CAAC;;EAEd;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAM6B,2BAA2B,GAC/B3D,WAAW,CAAC,YAA8B;IACxCoC,OAAO,CAACC,IAAI,CAAC,0CAA0C,CAAC;IACxD,IAAIuB,oBAA8C,GAAG,EAAE;IACvD,IAAIC,sBAAsB,GAAG,KAAK;IAElC,IAAI1D,QAAQ,CAACoC,EAAE,KAAK,SAAS,EAAE;MAC7B,IAAIpC,QAAQ,CAACqC,OAAO,IAAI,EAAE,EAAE;QAC1B;QACAoB,oBAAoB,GAAG,CACrBvD,WAAW,CAACoC,WAAW,CAACC,OAAO,CAACC,cAAc,EAC9CtC,WAAW,CAACoC,WAAW,CAACC,OAAO,CAACE,iBAAiB,EACjDvC,WAAW,CAACoC,WAAW,CAACC,OAAO,CAACG,oBAAoB,CACrD;MACH,CAAC,MAAM;QACL;QACAe,oBAAoB,GAAG,CACrBvD,WAAW,CAACoC,WAAW,CAACC,OAAO,CAACG,oBAAoB,CACrD;MACH;IACF,CAAC,MAAM,IAAI1C,QAAQ,CAACoC,EAAE,KAAK,KAAK,EAAE;MAChCqB,oBAAoB,GAAG,CACrBvD,WAAW,CAACoC,WAAW,CAACK,GAAG,CAACC,oBAAoB,CACjD;MACDc,sBAAsB,GAAG,IAAI;IAC/B;IAEA,IAAID,oBAAoB,CAACZ,MAAM,KAAK,CAAC,IAAI,CAACa,sBAAsB,EAAE;MAChEzB,OAAO,CAACC,IAAI,CACV,6EACF,CAAC;MACDP,QAAQ,CAAC;QAAEmB,IAAI,EAAE,wBAAwB;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;MAC3D,OAAO,IAAI;IACb;IAEA,IAAI;MACF,IAAIG,UAAU,GAAG,IAAI;MACrB,IAAIS,aAA+C,GAAG,CAAC,CAAC;;MAExD;MACA,IAAIF,oBAAoB,CAACZ,MAAM,GAAG,CAAC,EAAE;QACnC,MAAMG,QAAQ,GACZ,MAAM9C,WAAW,CAAC0D,eAAe,CAACH,oBAAoB,CAAC;QACzDE,aAAa,GAAG;UAAE,GAAGX;QAAS,CAAC;QAC/BE,UAAU,GAAGO,oBAAoB,CAACN,KAAK,CACrCC,UAAU,IAAIJ,QAAQ,CAACI,UAAU,CAAC,KAAKlD,WAAW,CAACmD,OAAO,CAACC,OAC7D,CAAC;QACDrB,OAAO,CAACC,IAAI,CACV,qDAAqD,EACrDc,QACF,CAAC;MACH;;MAEA;MACA,IAAIa,mBAAmB,GAAG,IAAI;MAC9B,IAAI7D,QAAQ,CAACoC,EAAE,KAAK,KAAK,IAAIsB,sBAAsB,EAAE;QACnDzB,OAAO,CAACC,IAAI,CAAC,uDAAuD,CAAC;QACrE;QACA,MAAM4B,SAAS,GAAG,MAAM5D,WAAW,CAAC6D,OAAO,CACzC7D,WAAW,CAACoC,WAAW,CAACK,GAAG,CAACqB,SAC9B,CAAC;QACDL,aAAa,CAACzD,WAAW,CAACoC,WAAW,CAACK,GAAG,CAACqB,SAAS,CAAC,GAAGF,SAAS;QAChED,mBAAmB,GACjBC,SAAS,KAAK5D,WAAW,CAACmD,OAAO,CAACC,OAAO,IACzCQ,SAAS,KAAK5D,WAAW,CAACmD,OAAO,CAACY,WAAW;QAC/ChC,OAAO,CAACC,IAAI,CACV,gDAAgD4B,SAAS,EAC3D,CAAC;MACH;MAEA,MAAMI,YAAY,GAAGhB,UAAU,IAAIW,mBAAmB;MAEtD5B,OAAO,CAACC,IAAI,CACV,qDAAqDgC,YAAY,EAAE,EACnEP,aACF,CAAC;MACDhC,QAAQ,CAAC;QAAEmB,IAAI,EAAE,wBAAwB;QAAEC,OAAO,EAAEmB;MAAa,CAAC,CAAC;MAEnE,IAAI,CAACA,YAAY,EAAE;QACjBjC,OAAO,CAACkC,IAAI,CACV,2DACF,CAAC;QACD,MAAMC,OAAO,GAAGC,MAAM,CAACC,MAAM,CAACX,aAAa,CAAC,CAACY,IAAI,CAC/CC,MAAM,IAAIA,MAAM,KAAKtE,WAAW,CAACmD,OAAO,CAACoB,OAC3C,CAAC;QACD,IAAIL,OAAO,EAAE;UACXnC,OAAO,CAACd,KAAK,CACX,wFACF,CAAC;QACH;MACF;MAEA,OAAO+C,YAAY;IACrB,CAAC,CAAC,OAAO/C,KAAK,EAAE;MACd,MAAMoC,cAAc,GAAGrC,WAAW,CAACC,KAAK,CAAC;MACzCc,OAAO,CAACd,KAAK,CACX,2CAA2C,EAC3CoC,cACF,CAAC;MACD5B,QAAQ,CAAC;QAAEmB,IAAI,EAAE,wBAAwB;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;MAC5DpB,QAAQ,CAAC;QAAEmB,IAAI,EAAE,WAAW;QAAEC,OAAO,EAAEQ;MAAe,CAAC,CAAC;MACxD,OAAO,KAAK;IACd;EACF,CAAC,EAAE,CAAC5B,QAAQ,CAAC,CAAC;;EAEhB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAM+C,qBAAqB,GAAG7E,WAAW,CAAC,YAA2B;IACnE,IAAI6B,KAAK,CAACiD,aAAa,EAAE;MACvB1C,OAAO,CAACC,IAAI,CAAC,8CAA8C,CAAC;MAC5D,OAAO,CAAC;IACV;IAEA,IAAIlC,QAAQ,CAACoC,EAAE,KAAK,SAAS,EAAE;MAC7B,IAAI;QACFH,OAAO,CAACC,IAAI,CACV,yEACF,CAAC;QACD;QACA,MAAMjC,UAAU,CAAC2E,eAAe,CAAC,CAAC;QAClC3C,OAAO,CAACC,IAAI,CACV,8EACF,CAAC;QACD;QACA;MACF,CAAC,CAAC,OAAOf,KAAK,EAAE;QACd,MAAMoC,cAAc,GAAGrC,WAAW,CAACC,KAAK,CAAC;QACzCc,OAAO,CAACd,KAAK,CACX,wEAAwE,EACxEoC,cACF,CAAC;QACD,MAAM,IAAInC,KAAK,CACb,+BAA+BmC,cAAc,CAACjC,OAAO,EACvD,CAAC;MACH;IACF,CAAC,MAAM,IAAItB,QAAQ,CAACoC,EAAE,KAAK,KAAK,EAAE;MAChC;MACAH,OAAO,CAACkC,IAAI,CACV,qGACF,CAAC;MACD,OAAOpD,OAAO,CAACC,OAAO,CAAC,CAAC;IAC1B;EACF,CAAC,EAAE,CAACU,KAAK,CAACiD,aAAa,CAAC,CAAC;;EAEzB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAME,WAAW,GAAGhF,WAAW,CAC7B,OAAOiF,cAAc,GAAG,IAAI,KAAoB;IAAA,IAAAC,sBAAA;IAC9C,IAAI,CAACrD,KAAK,CAACiD,aAAa,EAAE;MACxB,MAAM,IAAIvD,KAAK,CAAC,oCAAoC,CAAC;IACvD;IACA,IAAI,CAACM,KAAK,CAACsD,cAAc,EAAE;MACzB,MAAM,IAAI5D,KAAK,CACb,0DACF,CAAC;IACH;IACA,IAAIM,KAAK,CAACuD,UAAU,EAAE;MAAA,IAAAC,qBAAA;MACpBjD,OAAO,CAACkC,IAAI,CAAC,0CAA0C,CAAC;MACxD;MACA;MACA;MACA,OAAO,EAAAe,qBAAA,GAAArD,cAAc,CAACsD,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBpE,OAAO,KAAIC,OAAO,CAACC,OAAO,CAAC,CAAC;IAC7D;IAEAiB,OAAO,CAACC,IAAI,CACV,wCAAwC4C,cAAc,OACxD,CAAC;IACDnD,QAAQ,CAAC;MAAEmB,IAAI,EAAE;IAAa,CAAC,CAAC;;IAEhC;IACAjB,cAAc,CAACsD,OAAO,GAAGxE,qBAAqB,CAAO,CAAC;IAEtD,IAAI;MACF,MAAMyE,WAAW,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,KAAK,CAACT,cAAc,GAAG,IAAI,CAAC,CAAC;MAClE,MAAMU,SAAS,GAAGC,UAAU,CAAC,YAAY;QACvC,IAAI/D,KAAK,CAACuD,UAAU,EAAE;UACpBhD,OAAO,CAACkC,IAAI,CAAC,gCAAgC,CAAC;UAC9C,IAAI;YACF;YACA,MAAMlE,UAAU,CAACyF,QAAQ,CAAC,CAAC;UAC7B,CAAC,CAAC,OAAOC,SAAS,EAAE;YAClB1D,OAAO,CAACd,KAAK,CACX,gDAAgD,EAChDwE,SACF,CAAC;UACH;UACA;QACF;MACF,CAAC,EAAEb,cAAc,GAAG,IAAI,CAAC,CAAC,CAAC;;MAE3B;MACA,MAAM7E,UAAU,CAAC2F,IAAI,CAAC,EAAE,EAAER,WAAW,EAAE,KAAK,CAAC;MAC7CnD,OAAO,CAACC,IAAI,CAAC,2CAA2C,CAAC;;MAEzD;MACA,MAAML,cAAc,CAACsD,OAAO,CAACrE,OAAO;MACpC+E,YAAY,CAACL,SAAS,CAAC;IACzB,CAAC,CAAC,OAAOrE,KAAK,EAAE;MACd,MAAMoC,cAAc,GAAGrC,WAAW,CAACC,KAAK,CAAC;MACzCc,OAAO,CAACd,KAAK,CAAC,4BAA4B,EAAEoC,cAAc,CAAC;MAC3D;MACA,IAAI7B,KAAK,CAACuD,UAAU,EAAE;QACpB,IAAI;UACF,MAAMhF,UAAU,CAACyF,QAAQ,CAAC,CAAC;QAC7B,CAAC,CAAC,OAAOC,SAAS,EAAE;UAClB1D,OAAO,CAACd,KAAK,CACX,mDAAmD,EACnDwE,SACF,CAAC;QACH;MACF;MACAhE,QAAQ,CAAC;QAAEmB,IAAI,EAAE,WAAW;QAAEC,OAAO,EAAEQ;MAAe,CAAC,CAAC;MACxD5B,QAAQ,CAAC;QAAEmB,IAAI,EAAE;MAAY,CAAC,CAAC;MAC/B,IAAIjB,cAAc,CAACsD,OAAO,EAAE;QAC1BtD,cAAc,CAACsD,OAAO,CAAClE,MAAM,CAACO,gBAAgB,CAACE,KAAK,CAACP,KAAK,CAAC,CAAC;QAC5DU,cAAc,CAACsD,OAAO,GAAG,IAAI;MAC/B;MACA,MAAM5B,cAAc;IACtB;IAEA,QAAAwB,sBAAA,GAAOlD,cAAc,CAACsD,OAAO,cAAAJ,sBAAA,uBAAtBA,sBAAA,CAAwBjE,OAAO;EACxC,CAAC,EACD,CACEY,KAAK,CAACiD,aAAa,EACnBjD,KAAK,CAACsD,cAAc,EACpBtD,KAAK,CAACuD,UAAU,EAChBvD,KAAK,CAACP,KAAK,EACXQ,QAAQ,CAEZ,CAAC;;EAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAMmE,eAAe,GAAGjG,WAAW,CACjC,MAAOkG,QAAgB,IAA0B;IAC/C,IAAIrE,KAAK,CAACsE,YAAY,EAAE;MACtB,MAAM,IAAI5E,KAAK,CAAC,iCAAiC,CAAC;IACpD;IACA,IAAIM,KAAK,CAACuE,eAAe,EAAE;MACzB,IAAIvE,KAAK,CAACuE,eAAe,CAACC,EAAE,KAAKH,QAAQ,EAAE;QACzC9D,OAAO,CAACkC,IAAI,CACV,8CAA8C4B,QAAQ,GACxD,CAAC;QACD,OAAOrE,KAAK,CAACuE,eAAe;MAC9B,CAAC,MAAM;QACL,MAAM,IAAI7E,KAAK,CACb,4CAA4CM,KAAK,CAACuE,eAAe,CAACC,EAAE,sBACtE,CAAC;MACH;IACF;IAEAjE,OAAO,CAACC,IAAI,CAAC,2CAA2C6D,QAAQ,KAAK,CAAC;IACtEpE,QAAQ,CAAC;MAAEmB,IAAI,EAAE;IAAgB,CAAC,CAAC;;IAEnC;IACAhB,iBAAiB,CAACqD,OAAO,GAAGxE,qBAAqB,CAAa,CAAC;IAE/D,IAAI;MAAA,IAAAwF,qBAAA;MACF;MACA;MACA,MAAMlG,UAAU,CAACmG,OAAO,CAACL,QAAQ,CAAC;MAClC9D,OAAO,CAACC,IAAI,CACV,6BAA6B6D,QAAQ,oCACvC,CAAC;;MAED;MACA,MAAMM,cAAc,GAAG,MAAMpG,UAAU,CAACqG,gBAAgB,CAACP,QAAQ,CAAC;MAClE9D,OAAO,CAACC,IAAI,CACV,yCAAyC6D,QAAQ,UAAU,GAAAI,qBAAA,GAC3DE,cAAc,CAACE,QAAQ,cAAAJ,qBAAA,uBAAvBA,qBAAA,CAAyBK,GAAG,CAAEC,CAAmB,IAAKA,CAAC,CAACC,IAAI,CAC9D,CAAC;MACD,IAAI,CAACL,cAAc,CAACE,QAAQ,IAAIF,cAAc,CAACE,QAAQ,CAAC1D,MAAM,KAAK,CAAC,EAAE;QACpE,MAAM,IAAIzB,KAAK,CAAC,mCAAmC,CAAC;MACtD;;MAEA;MACA,IAAIuF,WAAsC,GAAG,IAAI;MACjD,KAAK,MAAMC,MAAM,IAAItG,oBAAoB,EAAE;QAAA,IAAAuG,sBAAA;QACzC,MAAMC,gBAAgB,GAAGF,MAAM,CAACG,WAAW,CAACC,WAAW,CAAC,CAAC;QACzD,MAAMC,kBAAkB,GACtBL,MAAM,CAACM,uBAAuB,CAACF,WAAW,CAAC,CAAC;QAC9C,MAAMG,mBAAmB,GACvBP,MAAM,CAACQ,wBAAwB,CAACJ,WAAW,CAAC,CAAC;QAE/C,MAAMK,YAAY,IAAAR,sBAAA,GAAGR,cAAc,CAACE,QAAQ,cAAAM,sBAAA,uBAAvBA,sBAAA,CAAyBS,IAAI,CAC/Cb,CAAmB,IAAKA,CAAC,CAACC,IAAI,CAACM,WAAW,CAAC,CAAC,KAAKF,gBACpD,CAAC;QAED,IAAIO,YAAY,EAAE;UAAA,IAAAE,qBAAA;UAChBtF,OAAO,CAACC,IAAI,CACV,0CAA0C0E,MAAM,CAACY,IAAI,KAAKZ,MAAM,CAACG,WAAW,GAC9E,CAAC;UACD;UACA,MAAMU,eAAe,GACnB,EAAAF,qBAAA,GAAAlB,cAAc,CAACoB,eAAe,cAAAF,qBAAA,uBAA9BA,qBAAA,CAAgCG,MAAM,CACnCC,CAAsB,IACrBA,CAAC,CAACC,OAAO,CAACZ,WAAW,CAAC,CAAC,KAAKF,gBAChC,CAAC,KAAI,EAAE;UAET,MAAMe,mBAAmB,GAAGJ,eAAe,CAACH,IAAI,CAC7CK,CAA6B,IAC5BA,CAAC,CAACG,cAAc,CAACd,WAAW,CAAC,CAAC,KAAKC,kBACvC,CAAC;UACD,MAAMc,oBAAoB,GAAGN,eAAe,CAACH,IAAI,CAC9CK,CAA6B,IAC5BA,CAAC,CAACG,cAAc,CAACd,WAAW,CAAC,CAAC,KAAKG,mBACvC,CAAC;UAED,IAAIU,mBAAmB,IAAIE,oBAAoB,EAAE;YAC/C9F,OAAO,CAACC,IAAI,CACV,wCAAwC+E,kBAAkB,iBAAiBE,mBAAmB,oBAChG,CAAC;;YAED;YACA,IAAIa,SAA0C,GAC5C,sBAAsB,CAAC,CAAC;YAC1B,IAAIH,mBAAmB,CAACI,UAAU,CAACC,KAAK,EAAE;cACxC;cACAF,SAAS,GAAG,OAAO;cACnB/F,OAAO,CAACC,IAAI,CACV,+DACF,CAAC;YACH,CAAC,MAAM;cACLD,OAAO,CAACC,IAAI,CACV,gEACF,CAAC;YACH;;YAEA;YACAD,OAAO,CAACC,IAAI,CACV,6CAA6CiF,mBAAmB,KAClE,CAAC;YACD,MAAMlH,UAAU,CAACkI,iBAAiB,CAChCpC,QAAQ,EACRa,MAAM,CAACG,WAAW,EAClBH,MAAM,CAACQ,wBACT,CAAC;YACDnF,OAAO,CAACC,IAAI,CACV,4CAA4CiF,mBAAmB,GACjE,CAAC;YAEDR,WAAW,GAAG;cACZI,WAAW,EAAEH,MAAM,CAACG,WAAW;cAC/BG,uBAAuB,EAAEN,MAAM,CAACM,uBAAuB;cACvDE,wBAAwB,EAAER,MAAM,CAACQ,wBAAwB;cACzDY,SAAS,EAAEA;YACb,CAAC;YACD,MAAM,CAAC;UACT,CAAC,MAAM;YACL/F,OAAO,CAACC,IAAI,CACV,0BAA0B0E,MAAM,CAACG,WAAW,yDAC9C,CAAC;UACH;QACF;MACF,CAAC,CAAC;;MAEF;MACA,IAAIJ,WAAW,EAAE;QAAA,IAAAyB,qBAAA;QACfnG,OAAO,CAACC,IAAI,CACV,qGAAqG6D,QAAQ,GAC/G,CAAC;QACDpE,QAAQ,CAAC;UACPmB,IAAI,EAAE,iBAAiB;UACvBC,OAAO,EAAE;YAAEsF,MAAM,EAAEhC,cAAc;YAAEiC,MAAM,EAAE3B;UAAY;QACzD,CAAC,CAAC;QACF,CAAAyB,qBAAA,GAAAtG,iBAAiB,CAACqD,OAAO,cAAAiD,qBAAA,eAAzBA,qBAAA,CAA2BpH,OAAO,CAACqF,cAAc,CAAC;QAClDvE,iBAAiB,CAACqD,OAAO,GAAG,IAAI,CAAC,CAAC;QAClC,OAAOkB,cAAc;MACvB,CAAC,MAAM;QACLpE,OAAO,CAACd,KAAK,CACX,oGACF,CAAC;QACD,MAAM,IAAIC,KAAK,CACb,yDACF,CAAC;MACH;IACF,CAAC,CAAC,OAAOD,KAAK,EAAE;MAAA,IAAAoH,sBAAA;MACd,MAAMhF,cAAc,GAAGrC,WAAW,CAACC,KAAK,CAAC;MACzCc,OAAO,CAACd,KAAK,CACX,gDAAgD4E,QAAQ,GAAG,EAC3DxC,cACF,CAAC;MACD5B,QAAQ,CAAC;QACPmB,IAAI,EAAE,iBAAiB;QACvBC,OAAO,EAAEQ;MACX,CAAC,CAAC;MACF;MACA,IAAI;QACF,MAAMtD,UAAU,CAACuI,UAAU,CAACzC,QAAQ,CAAC;QACrC9D,OAAO,CAACC,IAAI,CACV,sCAAsC6D,QAAQ,4BAChD,CAAC;MACH,CAAC,CAAC,OAAO0C,eAAe,EAAE;QACxBxG,OAAO,CAACd,KAAK,CACX,mEAAmE4E,QAAQ,GAAG,EAC9E0C,eACF,CAAC;MACH;MACA,CAAAF,sBAAA,GAAAzG,iBAAiB,CAACqD,OAAO,cAAAoD,sBAAA,eAAzBA,sBAAA,CAA2BtH,MAAM,CAACsC,cAAc,CAAC;MACjDzB,iBAAiB,CAACqD,OAAO,GAAG,IAAI,CAAC,CAAC;MAClC,MAAM5B,cAAc,CAAC,CAAC;IACxB;EACF,CAAC,EACD,CAAC7B,KAAK,CAACsE,YAAY,EAAEtE,KAAK,CAACuE,eAAe,EAAEtE,QAAQ,CACtD,CAAC;;EAED;;EAEA,MAAM6G,UAAU,GAAG3I,WAAW,CAAC,YAA2B;IACxD,IAAI6B,KAAK,CAACgH,eAAe,EAAE;MAAA,IAAAC,qBAAA;MACzB1G,OAAO,CAACkC,IAAI,CAAC,mDAAmD,CAAC;MACjE,OAAO,EAAAwE,qBAAA,GAAA5G,oBAAoB,CAACoD,OAAO,cAAAwD,qBAAA,uBAA5BA,qBAAA,CAA8B7H,OAAO,KAAIC,OAAO,CAACC,OAAO,CAAC,CAAC;IACnE;IACA,IAAI,CAACU,KAAK,CAACuE,eAAe,IAAI,CAACvE,KAAK,CAACkH,kBAAkB,EAAE;MACvD3G,OAAO,CAACkC,IAAI,CAAC,+CAA+C,CAAC;MAC7D,OAAOpD,OAAO,CAACC,OAAO,CAAC,CAAC;IAC1B;IAEA,MAAM+E,QAAQ,GAAGrE,KAAK,CAACuE,eAAe,CAACC,EAAE;IACzC,MAAMoC,MAAM,GAAG5G,KAAK,CAACkH,kBAAkB;IACvC3G,OAAO,CAACC,IAAI,CAAC,qCAAqC6D,QAAQ,KAAK,CAAC;IAChEpE,QAAQ,CAAC;MAAEmB,IAAI,EAAE;IAAmB,CAAC,CAAC;;IAEtC;IACAf,oBAAoB,CAACoD,OAAO,GAAGxE,qBAAqB,CAAO,CAAC;IAE5D,IAAI;MAAA,IAAAkI,sBAAA;MACF;MACA5G,OAAO,CAACC,IAAI,CACV,6CAA6CoG,MAAM,CAAClB,wBAAwB,KAC9E,CAAC;MACD,MAAMnH,UAAU,CAAC6I,gBAAgB,CAC/B/C,QAAQ,EACRuC,MAAM,CAACvB,WAAW,EAClBuB,MAAM,CAAClB,wBACT,CAAC;MACDnF,OAAO,CAACC,IAAI,CAAC,uCAAuC,CAAC;;MAErD;MACA,MAAMjC,UAAU,CAACuI,UAAU,CAACzC,QAAQ,CAAC;MACrC9D,OAAO,CAACC,IAAI,CACV,mDAAmD6D,QAAQ,GAC7D,CAAC;;MAED;MACA;MACA;MACA;MACApE,QAAQ,CAAC;QAAEmB,IAAI,EAAE;MAAqB,CAAC,CAAC,CAAC,CAAC;MAC1C,CAAA+F,sBAAA,GAAA9G,oBAAoB,CAACoD,OAAO,cAAA0D,sBAAA,eAA5BA,sBAAA,CAA8B7H,OAAO,CAAC,CAAC;IACzC,CAAC,CAAC,OAAOG,KAAK,EAAE;MAAA,IAAA4H,sBAAA;MACd,MAAMxF,cAAc,GAAGrC,WAAW,CAACC,KAAK,CAAC;MACzCc,OAAO,CAACd,KAAK,CACX,wCAAwC4E,QAAQ,GAAG,EACnDxC,cACF,CAAC;MACD5B,QAAQ,CAAC;QACPmB,IAAI,EAAE,oBAAoB;QAC1BC,OAAO,EAAEQ;MACX,CAAC,CAAC;MACF,CAAAwF,sBAAA,GAAAhH,oBAAoB,CAACoD,OAAO,cAAA4D,sBAAA,eAA5BA,sBAAA,CAA8B9H,MAAM,CAACsC,cAAc,CAAC;MACpD,MAAMA,cAAc,CAAC,CAAC;IACxB,CAAC,SAAS;MACRxB,oBAAoB,CAACoD,OAAO,GAAG,IAAI,CAAC,CAAC;IACvC;EACF,CAAC,EAAE,CACDzD,KAAK,CAACuE,eAAe,EACrBvE,KAAK,CAACkH,kBAAkB,EACxBlH,KAAK,CAACgH,eAAe,EACrB/G,QAAQ,CACT,CAAC;;EAEF;;EAEA;EACA,MAAMqH,cAAc,GAAGnJ,WAAW,CAChC,OACEoJ,OAAe,EACfC,UAAkB,EAClBC,OAA8B,KACqB;IACnD,IAAI,CAACzH,KAAK,CAACuE,eAAe,IAAI,CAACvE,KAAK,CAACkH,kBAAkB,EAAE;MACvD,MAAM,IAAIxH,KAAK,CAAC,4BAA4B,CAAC;IAC/C;IACA,IAAIM,KAAK,CAAC0H,kBAAkB,EAAE;MAC5B,MAAM,IAAIhI,KAAK,CAAC,yCAAyC,CAAC;IAC5D;IACA,IAAIQ,iBAAiB,CAACuD,OAAO,EAAE;MAC7BlD,OAAO,CAACkC,IAAI,CAAC,oDAAoD,CAAC;MAClE,IAAIvC,iBAAiB,CAACuD,OAAO,CAACK,SAAS,EACrCK,YAAY,CAACjE,iBAAiB,CAACuD,OAAO,CAACK,SAAS,CAAC;MACnD5D,iBAAiB,CAACuD,OAAO,CAACrE,OAAO,CAACG,MAAM,CACtC,IAAIG,KAAK,CAAC,gDAAgD,CAC5D,CAAC;MACDQ,iBAAiB,CAACuD,OAAO,GAAG,IAAI;IAClC;IAEA,MAAMmD,MAAM,GAAG5G,KAAK,CAACkH,kBAAkB;IACvC,MAAM7C,QAAQ,GAAGrE,KAAK,CAACuE,eAAe,CAACC,EAAE;IACzC,MAAMmD,sBAAsB,GAC1B,CAAAF,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEG,OAAO,KAAI/I,uBAAuB;IAE7C0B,OAAO,CAACC,IAAI,CACV,oCAAoC+G,OAAO,cAAcC,UAAU,cAAcG,sBAAsB,KACzG,CAAC;IAED,MAAME,eAAe,GAAG5I,qBAAqB,CAE3C,CAAC;IACH,IAAI6E,SAAgC,GAAG,IAAI;IAE3C5D,iBAAiB,CAACuD,OAAO,GAAG;MAC1BrE,OAAO,EAAEyI,eAAe;MACxB/D,SAAS,EAAE,IAAI;MACfgE,cAAc,EAAE,EAAE;MAClBC,cAAc,EAAE,EAAE;MAAE;MACpBC,kBAAkB,EAAER;IACtB,CAAC;IAEDvH,QAAQ,CAAC;MAAEmB,IAAI,EAAE;IAAqB,CAAC,CAAC;IAExC0C,SAAS,GAAGC,UAAU,CAAC,MAAM;MAAA,IAAAkE,qBAAA;MAC3B,IAAI,EAAAA,qBAAA,GAAA/H,iBAAiB,CAACuD,OAAO,cAAAwE,qBAAA,uBAAzBA,qBAAA,CAA2B7I,OAAO,MAAKyI,eAAe,EAAE;QAC1D,MAAMpI,KAAK,GAAG,IAAIC,KAAK,CACrB,YAAY6H,OAAO,qBAAqBI,sBAAsB,KAChE,CAAC;QACDpH,OAAO,CAACd,KAAK,CAAC,kBAAkBA,KAAK,CAACG,OAAO,EAAE,CAAC;QAChDK,QAAQ,CAAC;UAAEmB,IAAI,EAAE;QAAkB,CAAC,CAAC;QACrCyG,eAAe,CAACtI,MAAM,CAACE,KAAK,CAAC;QAC7BS,iBAAiB,CAACuD,OAAO,GAAG,IAAI;MAClC;IACF,CAAC,EAAEkE,sBAAsB,CAAC;IAE1B,IAAIzH,iBAAiB,CAACuD,OAAO,EAAE;MAC7BvD,iBAAiB,CAACuD,OAAO,CAACK,SAAS,GAAGA,SAAS;IACjD;IAEA,IAAI;MACF,MAAMoE,aAAa,GAAGX,OAAO,GAAGzI,yBAAyB;MACzD,MAAMqJ,YAAY,GAAGC,KAAK,CAACC,IAAI,CAC7B,IAAIC,WAAW,CAAC,CAAC,CAACC,MAAM,CAACL,aAAa,CACxC,CAAC;MAED,IAAItB,MAAM,CAACN,SAAS,KAAK,OAAO,EAAE;QAChC,MAAM/H,UAAU,CAACiK,KAAK,CACpBnE,QAAQ,EACRuC,MAAM,CAACvB,WAAW,EAClBuB,MAAM,CAACpB,uBAAuB,EAC9B2C,YACF,CAAC;MACH,CAAC,MAAM;QACL,MAAM5J,UAAU,CAACkK,oBAAoB,CACnCpE,QAAQ,EACRuC,MAAM,CAACvB,WAAW,EAClBuB,MAAM,CAACpB,uBAAuB,EAC9B2C,YACF,CAAC;MACH;MACA5H,OAAO,CAACC,IAAI,CACV,2BAA2B+G,OAAO,kDACpC,CAAC;MAED,MAAMmB,QAAQ,GAAG,MAAMb,eAAe,CAACzI,OAAO;MAC9C,OAAOsJ,QAAQ;IACjB,CAAC,CAAC,OAAOjJ,KAAK,EAAE;MAAA,IAAAkJ,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA;MACd,MAAMhH,cAAc,GAAGrC,WAAW,CAACC,KAAK,CAAC;MACzCc,OAAO,CAACd,KAAK,CACX,gEAAgE8H,OAAO,IAAI,EAC3E1F,cACF,CAAC;MACD,IACE,EAAA8G,sBAAA,GAAAzI,iBAAiB,CAACuD,OAAO,cAAAkF,sBAAA,uBAAzBA,sBAAA,CAA2BvJ,OAAO,MAAKyI,eAAe,IACtD3H,iBAAiB,CAACuD,OAAO,CAACK,SAAS,EACnC;QACAK,YAAY,CAACjE,iBAAiB,CAACuD,OAAO,CAACK,SAAS,CAAC;MACnD;MACA,IACE9D,KAAK,CAAC0H,kBAAkB,IACxB,EAAAkB,sBAAA,GAAA1I,iBAAiB,CAACuD,OAAO,cAAAmF,sBAAA,uBAAzBA,sBAAA,CAA2BxJ,OAAO,MAAKyI,eAAe,EACtD;QACA5H,QAAQ,CAAC;UACPmB,IAAI,EAAE,iBAAiB;UACvBC,OAAO,EAAEQ;QACX,CAAC,CAAC;MACJ;MACA,IAAI,EAAAgH,sBAAA,GAAA3I,iBAAiB,CAACuD,OAAO,cAAAoF,sBAAA,uBAAzBA,sBAAA,CAA2BzJ,OAAO,MAAKyI,eAAe,EAAE;QAC1D3H,iBAAiB,CAACuD,OAAO,GAAG,IAAI;MAClC;MACA,MAAM5B,cAAc;IACtB;EACF,CAAC,EACD,CACE7B,KAAK,CAACuE,eAAe,EACrBvE,KAAK,CAACkH,kBAAkB,EACxBlH,KAAK,CAAC0H,kBAAkB,EACxBzH,QAAQ,EACRC,iBAAiB,CAErB,CAAC;EAED,MAAM4I,WAAW,GAAG3K,WAAW,CAC7B,OACEoJ,OAAe,EACfE,OAA8B,KACV;IACpB,MAAMsB,MAAM,GAAG,MAAMzB,cAAc,CACjCC,OAAO,EACPvI,iBAAiB,CAACgK,MAAM,EACxBvB,OACF,CAAC;IACD,IAAI,OAAOsB,MAAM,KAAK,QAAQ,EAAE;MAC9B,MAAM,IAAIrJ,KAAK,CACb,wEACF,CAAC;IACH;IACA,OAAOqJ,MAAM;EACf,CAAC,EACD,CAACzB,cAAc,CACjB,CAAC;EAED,MAAM2B,cAAc,GAAG9K,WAAW,CAChC,OACEoJ,OAAe,EACfE,OAA8B,KACN;IACxB,MAAMsB,MAAM,GAAG,MAAMzB,cAAc,CACjCC,OAAO,EACPvI,iBAAiB,CAACkK,KAAK,EACvBzB,OACF,CAAC;IACD,IAAI,EAAEsB,MAAM,YAAYI,UAAU,CAAC,EAAE;MACnC,MAAM,IAAIzJ,KAAK,CACb,uEACF,CAAC;IACH;IACA,OAAOqJ,MAAM;EACf,CAAC,EACD,CAACzB,cAAc,CACjB,CAAC;;EAED;EACA,MAAM8B,qBAAqB,GAAGjL,WAAW,CACvC,OACEoJ,OAAe,EACfE,OAA8B,KACD;IAC7B,MAAMsB,MAAM,GAAG,MAAMzB,cAAc,CACjCC,OAAO,EACPvI,iBAAiB,CAACqK,OAAO,EACzB5B,OACF,CAAC;IACD,IAAI,OAAOsB,MAAM,KAAK,QAAQ,IAAIA,MAAM,YAAYI,UAAU,EAAE;MAC9D,MAAM,IAAIzJ,KAAK,CACb,yEACF,CAAC;IACH;IACA,OAAOqJ,MAAM;EACf,CAAC,EACD,CAACzB,cAAc,CACjB,CAAC;EAED,MAAMgC,YAAY,GAAGnL,WAAW,CAC7BoL,YAAqB,IAAW;IAC/B,IAAI,CAACvJ,KAAK,CAACuE,eAAe,IAAIgF,YAAY,EAAE;MAC1ChJ,OAAO,CAACd,KAAK,CACX,6DACF,CAAC;MACD;IACF;;IAEA;IACA,IAAIO,KAAK,CAACwJ,WAAW,KAAKD,YAAY,EAAE;MACtChJ,OAAO,CAACC,IAAI,CACV,+CAA+C+I,YAAY,EAC7D,CAAC;MACDtJ,QAAQ,CAAC;QAAEmB,IAAI,EAAE,sBAAsB;QAAEC,OAAO,EAAEkI;MAAa,CAAC,CAAC;IACnE,CAAC,MAAM;MACLhJ,OAAO,CAACC,IAAI,CACV,8CAA8C+I,YAAY,cAC5D,CAAC;IACH;EACF,CAAC,EACD,CAACvJ,KAAK,CAACwJ,WAAW,EAAExJ,KAAK,CAACuE,eAAe,EAAEtE,QAAQ,CACrD,CAAC;;EAED;EACA;EACA;EACA5B,SAAS,CAAC,MAAM;IACd;IACA,IAAI8B,cAAc,CAACsD,OAAO,IAAI,CAACzD,KAAK,CAACuD,UAAU,EAAE;MAC/C,IAAIvD,KAAK,CAACP,KAAK,IAAIO,KAAK,CAACP,KAAK,CAACG,OAAO,CAAC6J,QAAQ,CAAC,gBAAgB,CAAC,EAAE;QACjEtJ,cAAc,CAACsD,OAAO,CAACnE,OAAO,CAAC,CAAC;MAClC,CAAC,MAAM,IAAIU,KAAK,CAACP,KAAK,EAAE;QACtBU,cAAc,CAACsD,OAAO,CAAClE,MAAM,CAACO,gBAAgB,CAACE,KAAK,CAACP,KAAK,CAAC,CAAC;MAC9D,CAAC,MAAM;QACLU,cAAc,CAACsD,OAAO,CAACnE,OAAO,CAAC,CAAC;MAClC;MACAa,cAAc,CAACsD,OAAO,GAAG,IAAI;IAC/B;EACF,CAAC,EAAE,CAACzD,KAAK,CAACuD,UAAU,EAAEvD,KAAK,CAACP,KAAK,CAAC,CAAC;;EAEnC;EACApB,SAAS,CAAC,MAAM;IACd;IACA,OAAO,MAAM;MAAA,IAAAqL,sBAAA;MACX,KAAAA,sBAAA,GAAIxJ,iBAAiB,CAACuD,OAAO,cAAAiG,sBAAA,eAAzBA,sBAAA,CAA2B5F,SAAS,EAAE;QACxCK,YAAY,CAACjE,iBAAiB,CAACuD,OAAO,CAACK,SAAS,CAAC;MACnD;IACF,CAAC;EACH,CAAC,EAAE,CAAC5D,iBAAiB,CAAC,CAAC;;EAEvB;EACA;EACA;EACA;EACA;EACA7B,SAAS,CAAC,MAAM;IACd,IAAI2B,KAAK,CAAC0H,kBAAkB,IAAIxH,iBAAiB,CAACuD,OAAO,EAAE;MACzD;MACA,MAAMkG,WAAW,GACfzJ,iBAAiB,CAACuD,OAAO,CAACqE,cAAc,CAAC8B,OAAO,CAAC7K,kBAAkB,CAAC;MACtE,IAAI4K,WAAW,KAAK,CAAC,CAAC,EAAE;QAAA,IAAAE,sBAAA;QACtBtJ,OAAO,CAACC,IAAI,CAAC,+CAA+C,CAAC;;QAE7D;QACA,MAAMsJ,aAAa,GAAG5J,iBAAiB,CAACuD,OAAO,CAACqE,cAAc,CAACiC,KAAK,CAClE,CAAC,EACDJ,WACF,CAAC;QACDzJ,iBAAiB,CAACuD,OAAO,CAACqE,cAAc,GAAG,EAAE,CAAC,CAAC;;QAE/C;QACA,IAAI5H,iBAAiB,CAACuD,OAAO,CAACK,SAAS,EACrCK,YAAY,CAACjE,iBAAiB,CAACuD,OAAO,CAACK,SAAS,CAAC;QACnD5D,iBAAiB,CAACuD,OAAO,CAACK,SAAS,GAAG,IAAI;;QAE1C;QACA;QACA,IAAIkG,cAAc,GAAG,EAAE;QACvB,IAAI;UACFA,cAAc,GAAG,IAAIC,WAAW,CAAC,CAAC,CAC/BC,MAAM,CAACf,UAAU,CAACd,IAAI,CAACyB,aAAa,CAAC,CAAC,CACtCK,IAAI,CAAC,CAAC;UACT;QACF,CAAC,CAAC,OAAOC,CAAC,EAAE;UACV7J,OAAO,CAACkC,IAAI,CACV,kEAAkE,EAClE2H,CACF,CAAC;UACD;UACAJ,cAAc,GAAGnK,MAAM,CAACwK,YAAY,CAAC,GAAGP,aAAa,CAAC,CAACK,IAAI,CAAC,CAAC;QAC/D;;QAEA;QACA,CAAAN,sBAAA,GAAA3J,iBAAiB,CAACuD,OAAO,cAAAoG,sBAAA,eAAzBA,sBAAA,CAA2BzK,OAAO,CAACE,OAAO,CAAC0K,cAAc,CAAC;QAC1D;QACA;QACA;QACA;MACF;IACF;EACF,CAAC,EAAE,CAAChK,KAAK,CAAC0H,kBAAkB,EAAExH,iBAAiB,CAAC,CAAC;;EAEjD;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA,OAAO;IACL,GAAGF,KAAK;IAAE;;IAEV;IACAM,gBAAgB;IAChB6C,WAAW;IACXiB,eAAe;IACf0C,UAAU;IACVgC,WAAW;IAEX;IACAhH,2BAA2B;IAC3BkB,qBAAqB;IACrBiG,cAAc;IACdG,qBAAqB;IACrBE;EACF,CAAC;AACH,CAAC","ignoreList":[]}