{"version":3,"names":["React","useEffect","useReducer","useRef","useCallback","createContext","useMemo","NativeEventEmitter","NativeModules","BleManager","BluetoothDispatchContext","BluetoothStateContext","bluetoothReducer","initialState","ELM327_PROMPT_BYTE","BleManagerModule","bleManagerEmitter","InternalCommandControlContext","undefined","displayName","BluetoothProvider","children","_state$connectedDevic2","state","dispatch","currentCommandRef","handleIncomingData","dataValue","isAwaitingResponse","current","commandState","responseBuffer","push","promptIndex","indexOf","responseBytes","slice","timeoutId","clearTimeout","response","expectedReturnType","Uint8Array","from","decodeResponse","promise","resolve","type","error","console","reject","payload","bytes","TextDecoder","decode","trim","e","warn","String","fromCharCode","listenersRef","info","start","showAlert","then","checkState","catch","Error","listeners","addListener","args","isBtOn","peripheral","_peripheral$name","name","toUpperCase","likelyOBDKeywords","isLikelyOBD","some","keyword","includes","peripheralWithPrediction","data","_state$connectedDevic","connectedDevice","id","value","forEach","listener","remove","commandControlValue","createElement","Provider","useInternalCommandControl","context","useContext"],"sourceRoot":"../../../src","sources":["context/BluetoothProvider.tsx"],"mappings":"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","ignoreList":[]}