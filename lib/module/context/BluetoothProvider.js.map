{"version":3,"names":["React","useEffect","useReducer","useRef","useCallback","createContext","useMemo","NativeEventEmitter","NativeModules","BleManager","BluetoothDispatchContext","BluetoothStateContext","bluetoothReducer","initialState","ELM327_PROMPT_BYTE","BleManagerModule","bleManagerEmitter","InternalCommandControlContext","undefined","displayName","BluetoothProvider","children","_state$connectedDevic2","state","dispatch","currentCommandRef","handleIncomingData","dataValue","isAwaitingResponse","current","commandState","responseBuffer","push","promptIndex","indexOf","responseBytes","slice","timeoutId","clearTimeout","response","expectedReturnType","Uint8Array","from","decodeResponse","promise","resolve","type","error","console","reject","payload","bytes","TextDecoder","decode","trim","e","warn","String","fromCharCode","handleError","_currentCommandRef$cu","Error","listenersRef","info","start","showAlert","then","checkState","catch","listeners","addListener","args","isBtOn","peripheral","_peripheral$name","name","toUpperCase","likelyOBDKeywords","isLikelyOBD","some","keyword","includes","peripheralWithPrediction","data","_state$connectedDevic","connectedDevice","id","value","forEach","listener","remove","commandControlValue","createElement","Provider","useInternalCommandControl","context","useContext"],"sourceRoot":"../../../src","sources":["context/BluetoothProvider.tsx"],"mappings":"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","ignoreList":[]}